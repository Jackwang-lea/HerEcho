import{d as C,r as d,c as o,a as s,b as c,e as y,F as w,f as b,w as S,t as a,n as m,u as L,o as i,g as N,_ as I}from"./index-C5UnsYty.js";import{B as D}from"./BottomNav-B7L6rKdm.js";import{o as u}from"./one-CT9-iJZ3.js";const x={class:"dream-home-container"},B={class:"dream-stories-container"},V=["onClick"],$={class:"story-cover"},z=["src"],F={key:0,class:"new-badge"},G={key:1,class:"lock-overlay"},H={key:0,class:"coming-soon"},M={class:"story-info"},E={class:"story-title"},R={class:"story-description"},j={key:0,class:"story-progress"},q={class:"progress-text"},A={class:"progress-bar"},J={class:"story-details-modal"},K={class:"modal-header"},O={class:"modal-cover"},P=["src"],Q={class:"modal-content"},T={class:"modal-description"},U={class:"chapter-info"},W={class:"chapter-count"},X={class:"chapter-progress"},Y={class:"story-progress"},Z={class:"progress-text"},ss={class:"progress-bar"},es={class:"modal-actions"},ts=C({__name:"DreamHomeView",setup(os){const p=L(),h=d([{id:"story1",title:"叙梦故事1",description:"古风故事",coverImage:u,isNew:!0,progress:0,totalChapters:4,completedChapters:0},{id:"story2",title:"叙梦故事2",description:"敬请期待...",coverImage:u,isNew:!1,isLocked:!0,progress:0,comingSoon:!0},{id:"story3",title:"叙梦故事3",description:"敬请期待...",coverImage:u,isNew:!1,isLocked:!0,progress:0,comingSoon:!0}]),n=d(!1),e=d(null);function g(l){if(l.isLocked){k(l);return}e.value=l,n.value=!0}function _(){e.value&&(p.push(`/dream/scene/${e.value.id}`),n.value=!1)}function f(){e.value&&(p.push(`/dream/scene/${e.value.id}`),n.value=!1)}function k(l){alert(`《${l.title}》尚未开放，敬请期待！`)}function v(){n.value=!1}return(l,r)=>(i(),o("div",x,[r[2]||(r[2]=s("div",{class:"dream-header"},[s("div",{class:"page-title"},"叙梦")],-1)),s("div",B,[(i(!0),o(w,null,b(h.value,t=>(i(),o("div",{key:t.id,class:N(["story-card",{locked:t.isLocked}]),onClick:as=>g(t)},[s("div",$,[s("img",{src:t.coverImage,alt:"故事封面"},null,8,z),t.isNew?(i(),o("div",F,"新")):c("",!0),t.isLocked?(i(),o("div",G,[r[0]||(r[0]=s("div",{class:"lock-icon"},"🔒",-1)),t.comingSoon?(i(),o("div",H,"即将上线")):c("",!0)])):c("",!0)]),s("div",M,[s("h3",E,a(t.title),1),s("p",R,a(t.description),1),t.isLocked?c("",!0):(i(),o("div",j,[s("div",q,[s("span",null,"已完成 "+a(t.completedChapters||0)+"/"+a(t.totalChapters||0)+" 章节",1),s("span",null,a(t.progress)+"%",1)]),s("div",A,[s("div",{class:"progress-fill",style:m({width:t.progress+"%"})},null,4)])]))])],10,V))),128))]),n.value&&e.value?(i(),o("div",{key:0,class:"story-details-overlay",onClick:S(v,["self"])},[s("div",J,[s("div",K,[s("h2",null,a(e.value.title),1),s("span",{class:"close-button",onClick:v},"×")]),s("div",O,[s("img",{src:e.value.coverImage,alt:"故事封面"},null,8,P)]),s("div",Q,[s("p",T,a(e.value.description),1),s("div",U,[s("span",W,"共"+a(e.value.totalChapters||0)+"章",1),s("span",X,"已完成: "+a(e.value.completedChapters||0)+"/"+a(e.value.totalChapters||0),1)]),s("div",Y,[s("div",Z,[r[1]||(r[1]=s("span",null,"完成度",-1)),s("span",null,a(e.value.progress)+"%",1)]),s("div",ss,[s("div",{class:"progress-fill",style:m({width:e.value.progress+"%"})},null,4)])])]),s("div",es,[e.value.progress>0?(i(),o("button",{key:0,class:"continue-button",onClick:f},"继续游戏")):(i(),o("button",{key:1,class:"start-button",onClick:_},"开始游戏")),e.value.progress>0?(i(),o("button",{key:2,class:"restart-button",onClick:_},"重新开始")):c("",!0)])])])):c("",!0),y(D)]))}}),cs=I(ts,[["__scopeId","data-v-8d350842"]]);export{cs as default};
